import{r as g,i as f,j as e,b as k,d as b,H as T,S as R,e as L,D as E,f as M,u as v,h as H,k as w,l as A,m as V,n as O}from"./index-B1Yv1-3B.js";import{L as U}from"./Logo-DOVHmwfb.js";import{M as p,V as $}from"./VerticalMenuContent-BsU8cXrT.js";import{b as P,c as F,d as C,A as Y,n as K,e as B,u as I,f as G,H as W,M as q,S as z,L as J,N as Q,a as X,U as Z}from"./LanguageSelector-ObTHw3IE.js";import{H as ee,a as te}from"./StatusIcon-jyOgE7LU.js";import{L as se}from"./LayoutBase-C0nmq9YU.js";import"./Dialog-BMlvc5Zx.js";import"./proxy-CyLgUoKe.js";import"./index-DtUrbgxf.js";import"./_getPrototype-D8Owm3CJ.js";import"./isNil-S-2aHLbZ.js";const ae=l=>{const{onChange:a,routeKey:s,activeKeys:r,onSetActiveKey:c,direction:d,navigationTree:n,userAuthority:o,mode:u,selectedMenu:m,t:x,...y}=l,{includedRouteTree:i}=P(n,s),j=({key:t,title:h,menu:_,translateKey:D})=>{a({title:h,menu:_,translateKey:D}),c([t])},S=({key:t})=>{a({}),c([t])};g.useEffect(()=>{i.type!==F&&!f(i)&&a({key:i.key,title:i.title,menu:i.subMenu,translateKey:i.translateKey})},[i.key]);const N=r&&r.length>0?r:f(m)?[]:[i.key];return e.jsxs("div",{...y,children:[e.jsx(k,{to:b.authenticatedEntryPath,className:"stacked-mini-nav-header flex items-center justify-center",style:{height:T},children:e.jsx(U,{imgClass:"max-h-10",mode:u,type:"streamline",className:R})}),e.jsx(C,{autoHide:!0,direction:d,children:e.jsx(p,{className:"px-4 pb-4",defaultActiveKeys:N,children:n.map(t=>e.jsx(Y,{authority:t.authority,userAuthority:o,children:e.jsx("div",{title:x(t.translateKey,t.title),children:t.subMenu&&t.subMenu.length>0?e.jsx(p.MenuItem,{eventKey:t.key,className:"mb-2",onSelect:()=>j({key:t.key,title:t.title,menu:t.subMenu,translateKey:t.translateKey}),children:e.jsx("div",{className:"text-2xl",children:K[t.icon]})}):e.jsx(k,{to:t.path,className:"flex items-center h-full w-full",onClick:()=>S({key:t.key}),children:e.jsx(p.MenuItem,{eventKey:t.key,className:"mb-2",children:e.jsx("div",{className:"text-2xl",children:K[t.icon]})})})})},t.key))})})]})},ne=l=>{const{className:a,title:s,menu:r,routeKey:c,onCollapse:d,direction:n,translationSetup:o,userAuthority:u,...m}=l,x=()=>{d()};return e.jsxs("div",{className:L("h-full",a),...m,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 pl-6 pr-4",style:{height:T},children:[e.jsx("h5",{className:"font-bold",children:s}),e.jsxs("button",{type:"button",className:"close-button",onClick:x,children:[n===E&&e.jsx(ee,{}),n===M&&e.jsx(te,{})]})]}),e.jsx(C,{autoHide:!0,direction:n,children:e.jsx($,{routeKey:c,navigationTree:r,translationSetup:o,userAuthority:u})})]})},ie={width:V},le=({translationSetup:l=!0})=>{const{t:a}=B(!l),[s,r]=g.useState({}),[c,d]=g.useState([]),n=v(t=>t.mode),o=v(t=>t.direction),u=H(t=>t.currentRouteKey),m=w(t=>t.user.authority),{larger:x}=I(),y=(t,h)=>`${t}-${h}`,i=t=>{r(t)},j=()=>{r({}),d([])},S=t=>{d(t)},N=()=>{let t={};const h=`${-A}px`;return o===E&&(t={marginLeft:h}),o===M&&(t={marginRight:h}),t};return e.jsx(e.Fragment,{children:x.md&&e.jsxs("div",{className:"stacked-side-nav",children:[e.jsx(ae,{className:`stacked-side-nav-mini ${y("stacked-side-nav-mini",n)}`,style:ie,routeKey:u,activeKeys:c,mode:n,direction:o,navigationTree:G,userAuthority:m||[],selectedMenu:s,t:a,onChange:i,onSetActiveKey:S}),e.jsx("div",{className:`stacked-side-nav-secondary ${y("stacked-side-nav-secondary",n)}`,style:{width:A,...f(s)?N():{}},children:!f(s)&&e.jsx(ne,{title:a(s.translateKey,s.title),menu:s.menu,routeKey:u,direction:o,translationSetup:l,userAuthority:m||[],onCollapse:j})})]})})},Se=({children:l})=>{const{larger:a,smaller:s}=I();return e.jsx(se,{type:O,className:"app-layout-stacked-side flex flex-auto flex-col",children:e.jsxs("div",{className:"flex flex-auto min-w-0",children:[a.lg&&e.jsx(le,{}),e.jsxs("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:[e.jsx(W,{className:"shadow dark:shadow-2xl",headerStart:e.jsx(e.Fragment,{children:s.lg&&e.jsx(q,{})}),headerEnd:e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx(J,{}),e.jsx(Q,{}),e.jsx(X,{}),e.jsx(Z,{hoverable:!1})]})}),e.jsx("div",{className:"h-full flex flex-auto flex-col",children:l})]})]})})};export{Se as default};
