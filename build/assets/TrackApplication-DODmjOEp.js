import{r as c,j as e,d as N,A as T}from"./index-nc1C2IjR.js";import{I as v}from"./Input-BCOU1L0D.js";import{B as A}from"./Button-B-XKwO0x.js";import{u as w,A as R}from"./useTimeOutMessage-DQdCXgUs.js";import"./isNil-DTiTdWmw.js";import"./classNames-CqSCwwPy.js";import"./StatusIcon-D7TF0caj.js";import"./CloseButton-CG6RghpU.js";const O=()=>{const[s,g]=c.useState(""),[j,u]=c.useState(!1),[x,o]=w(),[k,m]=c.useState("info"),[f,d]=c.useState(null),b=t=>{t.key==="Backspace"&&g(h(s,!0))},h=(t,r)=>{let a=t.replace(/[^a-zA-Z0-9]/g,""),n=a.slice(0,3).toUpperCase().replace(/[^A-Z]/g,""),l=a.slice(3,6).toUpperCase().replace(/[^A-Z]/g,""),p=a.slice(6).replace(/[^0-9]/g,"");if(r)return[n,l,p].filter(Boolean).join("-");let i="";return n&&(i+=n+(n.length===3?"-":"")),l&&(i+=l+(l.length===3?"-":"")),p&&(i+=p),i},y=async()=>{var t,r;if(!s){o("Please enter a valid tracking number."),m("danger");return}u(!0),o(null),d(null);try{const a=await T.get("/pmc/track-application/",{headers:{"Content-Type":"application/json"},params:{tracking_number:s}});d(a.data.message||"No additional details"),m("success")}catch(a){d(null),o(((r=(t=a==null?void 0:a.response)==null?void 0:t.data)==null?void 0:r.message)||"Error tracking application."),m("danger")}finally{u(!1)}};return e.jsx("div",{className:"flex items-center justify-center  min-h-fit",children:e.jsxs("div",{className:"w-full max-w-lg p-6 bg-white shadow-2xl rounded-lg",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Track Your Application"}),e.jsx("p",{className:"text-gray-600",children:"Enter your tracking number to get details"})]}),x&&e.jsx(R,{showIcon:!0,className:"mb-4",type:k,children:x}),e.jsx("div",{className:"mb-4",children:e.jsx(v,{value:s,onChange:t=>g(h(t.target.value,!1)),onKeyDown:b,placeholder:"e.g., LHR-PRO-001",title:"Tracking Number (e.g., LHR-PRO-001)"})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(A,{onClick:y,loading:j,variant:"solid",children:"Track"})}),f&&e.jsxs("div",{className:"mt-6 p-4 border border-gray-200 rounded-md bg-gray-50",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Tracking Details:"}),e.jsx("p",{children:f})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(N,{to:"/",className:"text-blue-600 hover:underline",children:"Back to My Applications"})})]})})};export{O as default};
