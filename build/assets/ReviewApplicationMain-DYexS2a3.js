import{r as g,ao as pe,j as e,am as me,W as xe,A as Z,a0 as ue}from"./index-DBN3QcKN.js";import{B as ee}from"./StatusIcon-CNbeR7UG.js";import{E as ge,G as he,D as fe,N as _e}from"./toast-B7gKwmzM.js";import{u as de,a as je,C as re}from"./index-Do1Y5WPT.js";import{u as be,a as c,C as p,I as m}from"./index.esm-Cyo6PwIi.js";import{Q as le,U as ye}from"./TextField-Uom1mB9H.js";import{F as ne,C as oe}from"./FormControlLabel-DV6vepEj.js";import"./proxy-BeXtuhiR.js";import"./index-BBzbkzwZ.js";import"./DefaultPropsProvider-BYvBoFms.js";const ve=({groupList:l,children:R})=>{var Q,I,q,V,L,G,K,$,T,U,z,Y,E;const[w,x]=g.useState(l!==void 0&&l.length>1?l[1].value:""),[S,y]=g.useState({previousStage:!1,nextStage:!1}),{applicantDetail:h,businessDetailIndividual:v,businessEntity:B,licenseDetail:u,licenseDetailProducer:O,licenseDetailConsumer:F,licenseDetailCollector:k,licenseDetailRecycler:P,updateApplicantDetail:N,completedSections:f}=de(),{control:o,handleSubmit:te,formState:{errors:r}}=be({defaultValues:{firstName:""}}),[J]=pe(),s=J.get("group")!=="DO";console.log(h),g.useEffect(()=>{x(l!==void 0&&l.length>1?l[1].value:"")},[l]);const A=a=>{var M,H,X,C;const{name:i,checked:_}=a.target;if(y({previousStage:i==="previousStage"?_:!1,nextStage:i==="nextStage"?_:!1}),i==="previousStage"&&_){x((M=l[0])==null?void 0:M.value);const j={assignedGroup2:(H=l[0])==null?void 0:H.value};N(j)}else if(i==="nextStage"&&_){const j={assignedGroup2:(X=l[2])==null?void 0:X.value};N(j),x((C=l[2])==null?void 0:C.value)}},W=a=>{const i={remarks:a.target.value};N(i)};return console.log("Recycler Properties:",P),console.log(f),e.jsxs("div",{className:"p-4",style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Review Information"}),f.includes("applicantDetail")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Applicant Details"}),e.jsx("div",{children:Object.entries(h||{}).map(([a,i])=>a!=="applicationassignment"&&a!=="applicationdocument"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Documents"}),h.applicationdocument&&e.jsx("ul",{children:h.applicationdocument.map(a=>e.jsx("li",{children:e.jsxs("a",{href:a.document,target:"_blank",rel:"noopener noreferrer",children:["Download ",a.document_description]})},a.id))})]}),f.includes("businessEntity")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Business Entity"}),e.jsx("div",{children:Object.entries(B||{}).map(([a,i])=>a!=="applicationassignment"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)})]}),f.includes("businessDetailIndividual")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Business Details"}),e.jsx("div",{children:Object.entries(v||{}).map(([a,i])=>i!==""?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)})]}),f.includes("licenseDetail")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"License Detail"}),e.jsx("div",{children:Object.entries(u||{}).map(([a,i])=>a!=="applicationassignment"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)})]}),u.licenseType==="Producer"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Producer - Detail"}),e.jsx("div",{children:Object.entries(O||{}).map(([a,i])=>a!=="applicationassignment"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)}),e.jsx(c,{label:"Annual Procurement (Kg per day)",invalid:!!r.firstName,errorMessage:(Q=r.firstName)==null?void 0:Q.message,children:e.jsx(p,{name:"firstName",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"Annual Procurement (Kg per day)",...a})})}),e.jsx(c,{label:"Whether there is availability of Segregation at Source",invalid:!!r.firstName,errorMessage:(I=r.firstName)==null?void 0:I.message,children:e.jsx(p,{name:"firstName",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"Whether there is availability of Segregation at Source",...a})})}),e.jsx(c,{label:"Flow Diagaram",invalid:!!r.flow_diagram,errorMessage:(q=r.flow_diagram)==null?void 0:q.message,children:e.jsx(p,{name:"flow_diagram",control:o,render:({field:a})=>e.jsx(m,{type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:i=>a.onChange(i.target.files[0]||null)})})}),e.jsx(c,{label:"List of Products",invalid:!!r.flow_diagram,errorMessage:(V=r.flow_diagram)==null?void 0:V.message,children:e.jsx(p,{name:"flow_diagram",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"List of Products",...a})})}),e.jsx(c,{label:"List of By Products",invalid:!!r.flow_diagram,errorMessage:(L=r.flow_diagram)==null?void 0:L.message,children:e.jsx(p,{name:"flow_diagram",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"List of By Products",...a})})}),e.jsx(c,{label:"List and Quanity of Raw Material Imported",invalid:!!r.flow_diagram,errorMessage:(G=r.flow_diagram)==null?void 0:G.message,children:e.jsx(p,{name:"flow_diagram",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"List and Quanity of Raw Material Imported",...a})})}),e.jsx(c,{label:"Name of seller/Importer",invalid:!!r.flow_diagram,errorMessage:(K=r.flow_diagram)==null?void 0:K.message,children:e.jsx(p,{name:"flow_diagram",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"Name of seller/Importer",...a})})})]}),u.licenseType==="Consumer"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Consumer - Detail"}),e.jsx("div",{children:Object.entries(F||{}).map(([a,i])=>a!=="applicationassignment"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)})]}),u.licenseType==="Collector"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Collector - Detail"}),e.jsx("div",{children:Object.entries(k||{}).map(([a,i])=>a!=="applicationassignment"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)})]}),u.licenseType==="Recycler"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Recycler - Detail"}),e.jsx("div",{children:Object.entries(P||{}).map(([a,i])=>a!=="applicationassignment"?e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"10px"},children:[e.jsxs("strong",{children:[a,":"]})," ",typeof i=="object"&&i!==null?JSON.stringify(i,null,2):i]}),e.jsxs("div",{style:{marginRight:"10px"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"Yes",style:{marginRight:"5px"},disabled:s}),"Yes"]}),e.jsxs("label",{style:{marginLeft:"10px"},children:[e.jsx("input",{type:"radio",name:`response-${a}`,value:"No",style:{marginRight:"5px"},disabled:s}),"No"]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Add comment",style:{width:"200px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"},readOnly:s})})]},a):null)}),e.jsx(c,{label:"No. of workers (including  contract labour)",invalid:!!r.firstName,errorMessage:($=r.firstName)==null?void 0:$.message,children:e.jsx(p,{name:"firstName",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"No. of workers (including  contract labour)",style:{padding:"5px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f9f9f9"},...a})})}),e.jsx(c,{label:"Whether registerd with Labor Dept.? If Yes, provide details",invalid:!!r.firstName,errorMessage:(T=r.firstName)==null?void 0:T.message,children:e.jsx(p,{name:"firstName",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"Whether registerd with Labor Dept.? If Yes, provide details",style:{padding:"5px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f9f9f9"},...a})})}),e.jsx(c,{label:`Occupational safety and health \r
aspects \r
(Please provide details of \r
facilities)`,invalid:!!r.firstName,errorMessage:(U=r.firstName)==null?void 0:U.message,children:e.jsx(p,{name:"firstName",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:"Occupational safety and health aspects (Please provide details of facilities)",style:{padding:"5px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f9f9f9"},...a})})}),e.jsx(c,{label:`Whether conditions exist or are \r
likely to exist of the material \r
being handled or processed \r
 \r
posing adverse immediate or \r
delayed \r
impacts \r
on \r
the \r
environment. `,invalid:!!r.firstName,errorMessage:(z=r.firstName)==null?void 0:z.message,children:e.jsx(p,{name:"firstName",control:o,render:({field:a})=>e.jsx(m,{type:"text",autoComplete:"off",placeholder:`Whether conditions exist or are \r
likely to exist of the material \r
being handled or processed \r
 \r
posing adverse immediate or \r
delayed \r
impacts \r
on \r
the \r
environment. `,style:{padding:"5px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f9f9f9"},...a})})})]}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx(le,{fullWidth:!0,children:e.jsx(ye,{id:"Remarks",label:"Remarks",variant:"filled",onChange:W})})}),e.jsx("div",{children:e.jsxs(le,{children:[e.jsx(ne,{control:e.jsx(oe,{name:"nextStage",checked:S.nextStage,onChange:A}),label:`Yes - Proceed to next stage (${(Y=l[2])==null?void 0:Y.label})`}),e.jsx(ne,{control:e.jsx(oe,{name:"previousStage",checked:S.previousStage,onChange:A}),label:`No - Proceed to previous stage (${(E=l[0])==null?void 0:E.label})`})]})})]}),e.jsx("div",{children:Object.entries(h||{}).map(([a,i])=>a==="applicationassignment"?e.jsx("div",{children:i}):null)}),R]})},Ie=()=>{const{id:l}=me(),R=xe(),[w,x]=g.useState(0),[S,y]=g.useState(!1),[h,v]=g.useState(!1),[B,u]=g.useState(!1),O=n=>{if(n===3){x(6);return}if(n===5){x(2);return}n<0?x(0):n>6?x(6):x(n)},F=()=>O(w+1),k=()=>O(w-1);g.useEffect(()=>{console.log("its here1"),l?N(l):(W(),q(),G(),T())},[l]);const P=n=>e.jsxs("div",{children:[e.jsx("h5",{children:"Application Assignments"}),n.map(t=>e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Assigned Group:"})," ",t.assigned_group]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Remarks:"})," ",t.remarks||"No remarks"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Updated Date/Time:"})," ",new Date(t.created_at).toLocaleString()]})]},t.id))]}),N=n=>{Z.get(`/pmc/applicant-detail/${n}/`,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{var D,se;console.log("Data:",t.data);const b={firstName:t.data.first_name,lastName:t.data.last_name,applicantDesignation:t.data.applicant_designation,gender:t.data.gender,cnic:t.data.cnic,email:t.data.email,phoneNumber:t.data.mobile_no,id:t.data.id,has_identity_document:t.data.has_identity_document,has_fee_challan:t.data.has_fee_challan,applicationStatus:t.data.application_status,assignedGroup:t.data.assigned_group,applicationassignment:P(t.data.applicationassignment),applicationdocument:t.data.applicationdocument};if(A(b),t.data.businessprofile){if(t.data.businessprofile.entity_type==="Company"){const d={applicant:t.data.id,businessName:t.data.businessprofile.business_name,district:t.data.businessprofile.district,tehsil:t.data.businessprofile.tehsil,city:t.data.businessprofile.city_town_village,postalAddress:t.data.businessprofile.postal_address,mobileNumber:t.data.businessprofile.mobile_no,id:t.data.businessprofile.id};I(d)}{const d={applicant:t.data.id,name:t.data.businessprofile.name,district:t.data.businessprofile.district,tehsil:t.data.businessprofile.tehsil,city:t.data.businessprofile.city_town_village,postalAddress:t.data.businessprofile.postal_address,mobileNumber:t.data.businessprofile.mobile_no,id:t.data.businessprofile.id};L(d)}$({businessEntityType:"Individual"})}if(a({licenseType:t.data.registration_for}),t.data.producer&&t.data.registration_for==="Producer"){const d={tracking_number:t.data.producer.tracking_number||"",registration_required_for:t.data.producer.registration_required_for||[],registration_required_for_other:t.data.producer.registration_required_for_other||[],registration_required_for_other_other_text:t.data.producer.registration_required_for_other_other_text||"",plain_plastic_Sheets_for_food_wrapping:t.data.producer.plain_plastic_sheets_for_food_wrapping||[],PackagingItems:t.data.producer.packaging_items||[],number_of_machines:t.data.producer.number_of_machines||"",total_capacity_value:((D=t.data.producer.total_capacity_value)==null?void 0:D.toString())||"",date_of_setting_up:t.data.producer.date_of_setting_up||"",total_waste_generated_value:((se=t.data.producer.total_waste_generated_value)==null?void 0:se.toString())||"",has_waste_storage_capacity:t.data.producer.has_waste_storage_capacity||"",waste_disposal_provision:t.data.producer.waste_disposal_provision||"",applicant:t.data.producer.applicant||""};ie(d)}if(t.data.consumer&&t.data.registration_for==="Consumer"){const d={registration_required_for:t.data.consumer.registration_required_for||[],registration_required_for_other:t.data.consumer.registration_required_for_other||[],registration_required_for_other_other_text:t.data.consumer.registration_required_for_other_other_text||"",plain_plastic_Sheets_for_food_wrapping:t.data.consumer.plain_plastic_sheets_for_food_wrapping||[],PackagingItems:t.data.consumer.packaging_items||[],consumption:t.data.consumer.consumption||"",provision_waste_disposal_bins:t.data.consumer.provision_waste_disposal_bins||"No",no_of_waste_disposible_bins:t.data.consumer.no_of_waste_disposable_bins||"",segregated_plastics_handed_over_to_registered_recyclers:t.data.consumer.segregated_plastics_handed_over_to_registered_recyclers||"No",applicant:t.data.consumer.applicant||""};_(d)}if(t.data.recycler&&t.data.registration_for==="Recycler"){const d={selectedCategories:t.data.recycler.selected_categories||[],plastic_waste_acquired_through:t.data.recycler.plastic_waste_acquired_through||[],has_adequate_pollution_control_systems:t.data.recycler.has_adequate_pollution_control_systems||"No",pollution_control_details:t.data.recycler.pollution_control_details||"",applicant:t.data.recycler.applicant||"",registration_required_for_other_other_text:t.data.recycler.registration_required_for_other_other_text||""};M(d)}if(t.data.collector&&t.data.registration_for==="Collector"){const d={registration_required_for:t.data.collector.registration_required_for||[],registration_required_for_other:t.data.collector.registration_required_for_other||[],registration_required_for_other_other_text:t.data.collector.registration_required_for_other_other_text||"",selectedCategoriesCollector:t.data.collector.selected_categories||[],total_capacity_value_collector:t.data.collector.total_capacity_value||"",number_of_vehicles:t.data.collector.number_of_vehicles||"",number_of_persons:t.data.collector.number_of_persons||"",applicant:t.data.collector.applicant||""};i(d)}t.data.application_status==="Fee Challan"&&x(4)}).catch(t=>{console.error("Error:",t)})},f=()=>{y(!1),fe.push(e.jsx(_e,{type:"success",children:"Customer discard!"}),{placement:"top-center"}),R("/concepts/customers/customer-list")},o=()=>{y(!0)},te=()=>{v(!0)},r=()=>{y(!1),v(!1)},J=()=>{v(!1),k()},ae=async()=>{if(s.assignedGroup2!==""){const n=new FormData;if(n.append("assigned_group",s.assignedGroup2),n.append("id",s.id.toString()),s.id>0){try{const b=await Z.patch(`/pmc/applicant-detail/${s.id}/`,n,{headers:{"Content-Type":"multipart/form-data"}});u(!1),R("/home")}catch(b){console.error("Error in POST request:",b.response||b.message),u(!1)}F()}const t=new FormData;t.append("applicant",s.id.toString()),t.append("assigned_group",s.assignedGroup2),t.append("remarks",s.remarks),console.log(s.remarks),await Z.post("/pmc/application-assignment/",t,{headers:{"Content-Type":"multipart/form-data"}})}},{applicantDetail:s,updateApplicantDetail:A,resetApplicantDetail:W,businessDetail:Q,updateBusinessDetail:I,resetBusinessDetail:q,businessDetailIndividual:V,updateBusinessDetailIndividual:L,resetBusinessDetailIndividual:G,businessEntity:K,updateBusinessEntity:$,resetBusinessEntity:T,resetAll:U,completedSections:z,getValuesFromStateBusinessEntity:Y,getValuesFromLicenseDetail:E,updateLicenseDetail:a,updateLicenseDetailCollector:i,updateLicenseDetailConsumer:_,updateLicenseDetailProducer:ie,updateLicenseDetailRecycler:M,resetLicenseDetail:H,resetLicenseDetailProducer:X}=de();Y(),E();const C=["APPLICANT","LSO","LSM","DO","LSM2","TL","DEO","Download License"],j=ce(s.assignedGroup);console.log("assignedGroup:",s.assignedGroup),console.log("groupList",j);function ce(n){console.log(n);const t=C.indexOf(n);return C.slice(Math.max(0,t-1),t+2).map(D=>({value:D,label:D}))}return e.jsxs(e.Fragment,{children:[e.jsx(ve,{groupList:j,children:e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between px-8",children:[e.jsx("span",{}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"ltr:mr-3 rtl:ml-3",type:"button",customColorClass:()=>"border-error ring-1 ring-error text-error hover:border-error hover:ring-error hover:text-error bg-transparent",icon:e.jsx(ge,{}),onClick:o,children:"Discard"}),e.jsx(ee,{icon:e.jsx(he,{}),className:"ltr:mr-3 rtl:ml-3",variant:"solid",type:"button",loading:B,disabled:w===0,onClick:te,children:"Back"}),e.jsx(ee,{icon:e.jsx(je,{}),variant:"solid",type:"button",onClick:ae,loading:B,children:"Save"})]})]})})}),e.jsx(re,{isOpen:S,type:"danger",title:"Discard changes",onClose:r,onRequestClose:r,onCancel:r,onConfirm:f,children:e.jsx("p",{children:"Are you sure you want discard this?"})}),e.jsx(re,{isOpen:h,type:"danger",title:"Go Back",onClose:r,onRequestClose:r,onCancel:r,onConfirm:J,children:e.jsx("p",{children:"There are unsaved changes on this step, Are you sure you want to go back step?"})})]})};export{Ie as default};
