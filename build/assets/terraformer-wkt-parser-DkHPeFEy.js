import{I as Mt,J as st,K as dt,L as Wt,N as Bt,Q as Ht,U as Vt,W as At,X as Yt,Y as $t,Z as qt,_ as Qt,$ as Jt,a0 as te,a1 as ee,a2 as re,E as ne,a3 as se,a4 as ie,a5 as oe,a6 as ae,a7 as le,a8 as he,a9 as ue,aa as ce,ab as fe,ac as Et,ad as de,P as bt,ae as ye,af as ge,ag as pe,ah as me,ai as Pe,aj as Ft,ak as Ce,al as Me,am as _e,an as Ut,ao as we,ap as Gt,aq as xe,ar as Xt,as as Zt,d as jt,at as q,au as A,av as Se,aw as Oe,ax as Te,ay as ve,az as be,aA as ut}from"./OSM-CHMvphyu.js";import{c as Dt}from"./index-D0IGZuaL.js";class ht extends Mt{constructor(e,r){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(r,e):this.setCoordinates(e,r)}appendCoordinate(e){st(this.flatCoordinates,e),this.changed()}clone(){const e=new ht(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,r,n,a){return a<dt(this.getExtent(),e,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,r,n,a))}forEachSegment(e){return Ht(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,r){return this.layout!="XYM"&&this.layout!="XYZM"?null:(r=r!==void 0?r:!1,Vt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r))}getCoordinates(){return At(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,r){return Yt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,this.stride)}getLength(){return $t(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const r=[];return r.length=qt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new ht(r,"XY")}getType(){return"LineString"}intersectsExtent(e){return Qt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jt(this.flatCoordinates,0,e,this.stride),this.changed()}}class mt extends te{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(ee),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let r=0,n=e.length;r<n;++r)this.changeEventsKeys_.push(re(e[r],ne.CHANGE,this.changed,this))}clone(){const e=new mt(Tt(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,r,n,a){if(a<dt(this.getExtent(),e,r))return a;const h=this.geometries_;for(let y=0,M=h.length;y<M;++y)a=h[y].closestPointXY(e,r,n,a);return a}containsXY(e,r){const n=this.geometries_;for(let a=0,h=n.length;a<h;++a)if(n[a].containsXY(e,r))return!0;return!1}computeExtent(e){se(e);const r=this.geometries_;for(let n=0,a=r.length;n<a;++n)ie(e,r[n].getExtent());return e}getGeometries(){return Tt(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const r=this.geometries_;for(let n=0,a=r.length;n<a;++n)r[n].getType()===this.getType()?e=e.concat(r[n].getGeometriesArrayRecursive()):e.push(r[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const r=[],n=this.geometries_;let a=!1;for(let h=0,y=n.length;h<y;++h){const M=n[h],C=M.getSimplifiedGeometry(e);r.push(C),C!==M&&(a=!0)}return a?new mt(r):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const r=this.geometries_;for(let n=0,a=r.length;n<a;++n)if(r[n].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,r){const n=this.geometries_;for(let a=0,h=n.length;a<h;++a)n[a].rotate(e,r);this.changed()}scale(e,r,n){n||(n=oe(this.getExtent()));const a=this.geometries_;for(let h=0,y=a.length;h<y;++h)a[h].scale(e,r,n);this.changed()}setGeometries(e){this.setGeometriesArray(Tt(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const r=this.geometries_;for(let n=0,a=r.length;n<a;++n)r[n].applyTransform(e);this.changed()}translate(e,r){const n=this.geometries_;for(let a=0,h=n.length;a<h;++a)n[a].translate(e,r);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Tt(u){return u.map(e=>e.clone())}class Pt extends Mt{constructor(e,r,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,r);else if(r!==void 0&&n)this.setFlatCoordinates(r,e),this.ends_=n;else{const a=e,h=[],y=[];for(let C=0,v=a.length;C<v;++C){const T=a[C];st(h,T.getFlatCoordinates()),y.push(h.length)}const M=a.length===0?this.getLayout():a[0].getLayout();this.setFlatCoordinates(M,h),this.ends_=y}}appendLineString(e){st(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Pt(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,r,n,a){return a<dt(this.getExtent(),e,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ae(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),le(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,r,n,a))}getCoordinateAtM(e,r,n){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(r=r!==void 0?r:!1,n=n!==void 0?n:!1,he(this.flatCoordinates,0,this.ends_,this.stride,e,r,n))}getCoordinates(){return ue(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new ht(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,r=this.ends_,n=this.layout,a=[];let h=0;for(let y=0,M=r.length;y<M;++y){const C=r[y],v=new ht(e.slice(h,C),n);a.push(v),h=C}return a}getFlatMidpoints(){const e=[],r=this.flatCoordinates;let n=0;const a=this.ends_,h=this.stride;for(let y=0,M=a.length;y<M;++y){const C=a[y],v=Yt(r,n,C,h,.5);st(e,v),n=C}return e}getSimplifiedGeometryInternal(e){const r=[],n=[];return r.length=ce(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,n),new Pt(r,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return fe(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,r){this.setLayout(r,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Et(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}class _t extends Mt{constructor(e,r){super(),r&&!Array.isArray(e[0])?this.setFlatCoordinates(r,e):this.setCoordinates(e,r)}appendPoint(e){st(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new _t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,r,n,a){if(a<dt(this.getExtent(),e,r))return a;const h=this.flatCoordinates,y=this.stride;for(let M=0,C=h.length;M<C;M+=y){const v=de(e,r,h[M],h[M+1]);if(v<a){a=v;for(let T=0;T<y;++T)n[T]=h[M+T];n.length=y}}return a}getCoordinates(){return At(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const r=this.flatCoordinates.length/this.stride;return e<0||r<=e?null:new bt(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,r=this.layout,n=this.stride,a=[];for(let h=0,y=e.length;h<y;h+=n){const M=new bt(e.slice(h,h+n),r);a.push(M)}return a}getType(){return"MultiPoint"}intersectsExtent(e){const r=this.flatCoordinates,n=this.stride;for(let a=0,h=r.length;a<h;a+=n){const y=r[a],M=r[a+1];if(ye(e,y,M))return!0}return!1}setCoordinates(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jt(this.flatCoordinates,0,e,this.stride),this.changed()}}class Ct extends Mt{constructor(e,r,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const a=e,h=[],y=[];for(let M=0,C=a.length;M<C;++M){const v=a[M],T=h.length,N=v.getEnds();for(let z=0,ct=N.length;z<ct;++z)N[z]+=T;st(h,v.getFlatCoordinates()),y.push(N)}r=a.length===0?this.getLayout():a[0].getLayout(),e=h,n=y}r!==void 0&&n?(this.setFlatCoordinates(r,e),this.endss_=n):this.setCoordinates(e,r)}appendPolygon(e){let r;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),r=e.getEnds().slice(),this.endss_.push();else{const n=this.flatCoordinates.length;st(this.flatCoordinates,e.getFlatCoordinates()),r=e.getEnds().slice();for(let a=0,h=r.length;a<h;++a)r[a]+=n}this.endss_.push(r),this.changed()}clone(){const e=this.endss_.length,r=new Array(e);for(let a=0;a<e;++a)r[a]=this.endss_[a].slice();const n=new Ct(this.flatCoordinates.slice(),this.layout,r);return n.applyProperties(this),n}closestPointXY(e,r,n,a){return a<dt(this.getExtent(),e,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ge(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,r,n,a))}containsXY(e,r){return me(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,r)}getArea(){return Pe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let r;return e!==void 0?(r=this.getOrientedFlatCoordinates().slice(),Ft(r,0,this.endss_,this.stride,e)):r=this.flatCoordinates,Ce(r,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Me(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=_e(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new _t(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Ut(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Ft(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const r=[],n=[];return r.length=we(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,n),new Ct(r,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let r;if(e===0)r=0;else{const h=this.endss_[e-1];r=h[h.length-1]}const n=this.endss_[e].slice(),a=n[n.length-1];if(r!==0)for(let h=0,y=n.length;h<y;++h)n[h]-=r;return new Gt(this.flatCoordinates.slice(r,a),this.layout,n)}getPolygons(){const e=this.layout,r=this.flatCoordinates,n=this.endss_,a=[];let h=0;for(let y=0,M=n.length;y<M;++y){const C=n[y].slice(),v=C[C.length-1];if(h!==0)for(let N=0,z=C.length;N<z;++N)C[N]-=h;const T=new Gt(r.slice(h,v),e,C);a.push(T),h=v}return a}getType(){return"MultiPolygon"}intersectsExtent(e){return xe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,r){this.setLayout(r,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Xt(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{const a=n[n.length-1];this.flatCoordinates.length=a.length===0?0:a[a.length-1]}this.changed()}}class Fe{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=jt,this.supportedMediaTypes=null}getReadOptions(e,r){if(r){let n=r.dataProjection?q(r.dataProjection):this.readProjection(e);r.extent&&n&&n.getUnits()==="tile-pixels"&&(n=q(n),n.setWorldExtent(r.extent)),r={dataProjection:n,featureProjection:r.featureProjection}}return this.adaptOptions(r)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return A()}readFeature(e,r){return A()}readFeatures(e,r){return A()}readGeometry(e,r){return A()}readProjection(e){return A()}writeFeature(e,r){return A()}writeFeatures(e,r){return A()}writeGeometry(e,r){return A()}}function Nt(u,e,r){const n=r?q(r.featureProjection):null,a=r?q(r.dataProjection):null;let h=u;if(n&&a&&!Se(n,a)){e&&(h=u.clone());const y=e?n:a,M=e?a:n;y.getUnits()==="tile-pixels"?h.transform(y,M):h.applyTransform(Oe(y,M))}if(e&&r&&r.decimals!==void 0){const y=Math.pow(10,r.decimals),M=function(C){for(let v=0,T=C.length;v<T;++v)C[v]=Math.round(C[v]*y)/y;return C};h===u&&(h=u.clone()),h.applyTransform(M)}return h}const Ge={Point:bt,LineString:ht,Polygon:Gt,MultiPoint:_t,MultiLineString:Pt,MultiPolygon:Ct};function Le(u,e,r){return Array.isArray(e[0])?(Ut(u,0,e,r)||(u=u.slice(),Ft(u,0,e,r)),u):(Te(u,0,e,r)||(u=u.slice(),ve(u,0,e,r)),u)}function zt(u,e){var h;const r=u.geometry;if(!r)return[];if(Array.isArray(r))return r.map(y=>zt({...u,geometry:y})).flat();const n=r.type==="MultiPolygon"?"Polygon":r.type;if(n==="GeometryCollection"||n==="Circle")throw new Error("Unsupported geometry type: "+n);const a=r.layout.length;return Nt(new Zt(n,n==="Polygon"?Le(r.flatCoordinates,r.ends,a):r.flatCoordinates,(h=r.ends)==null?void 0:h.flat(),a,u.properties||{},u.id).enableSimplifyTransformed(),!1,e)}function kt(u,e){if(!u)return null;if(Array.isArray(u)){const n=u.map(a=>kt(a,e));return new mt(n)}const r=Ge[u.type];return Nt(new r(u.flatCoordinates,u.layout||"XY",u.ends),!1,e)}class Ee extends Fe{constructor(){super()}getType(){return"json"}readFeature(e,r){return this.readFeatureFromObject(pt(e),this.getReadOptions(e,r))}readFeatures(e,r){return this.readFeaturesFromObject(pt(e),this.getReadOptions(e,r))}readFeatureFromObject(e,r){return A()}readFeaturesFromObject(e,r){return A()}readGeometry(e,r){return this.readGeometryFromObject(pt(e),this.getReadOptions(e,r))}readGeometryFromObject(e,r){return A()}readProjection(e){return this.readProjectionFromObject(pt(e))}readProjectionFromObject(e){return A()}writeFeature(e,r){return JSON.stringify(this.writeFeatureObject(e,r))}writeFeatureObject(e,r){return A()}writeFeatures(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))}writeFeaturesObject(e,r){return A()}writeGeometry(e,r){return JSON.stringify(this.writeGeometryObject(e,r))}writeGeometryObject(e,r){return A()}}function pt(u){if(typeof u=="string"){const e=JSON.parse(u);return e||null}return u!==null?u:null}class $e extends Ee{constructor(e){e=e||{},super(),this.dataProjection=q(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=q(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,r){let n=null;e.type==="Feature"?n=e:n={type:"Feature",geometry:e,properties:null};const a=Rt(n.geometry);if(this.featureClass===Zt)return zt({geometry:a,id:n.id,properties:n.properties},r);const h=new jt;return this.geometryName_?h.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&h.setGeometryName(n.geometry_name),h.setGeometry(kt(a,r)),"id"in n&&h.setId(n.id),n.properties&&h.setProperties(n.properties,!0),h}readFeaturesFromObject(e,r){const n=e;let a=null;if(n.type==="FeatureCollection"){const h=e;a=[];const y=h.features;for(let M=0,C=y.length;M<C;++M){const v=this.readFeatureFromObject(y[M],r);v&&a.push(v)}}else a=[this.readFeatureFromObject(e,r)];return a.flat()}readGeometryFromObject(e,r){return Ne(e,r)}readProjectionFromObject(e){const r=e.crs;let n;if(r)if(r.type=="name")n=q(r.properties.name);else if(r.type==="EPSG")n=q("EPSG:"+r.properties.code);else throw new Error("Unknown SRS type");else n=this.dataProjection;return n}writeFeatureObject(e,r){r=this.adaptOptions(r);const n={type:"Feature",geometry:null,properties:null},a=e.getId();if(a!==void 0&&(n.id=a),!e.hasProperties())return n;const h=e.getProperties(),y=e.getGeometry();return y&&(n.geometry=Lt(y,r),delete h[e.getGeometryName()]),be(h)||(n.properties=h),n}writeFeaturesObject(e,r){r=this.adaptOptions(r);const n=[];for(let a=0,h=e.length;a<h;++a)n.push(this.writeFeatureObject(e[a],r));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,r){return Lt(e,this.adaptOptions(r))}}function Rt(u,e){if(!u)return null;let r;switch(u.type){case"Point":{r=Re(u);break}case"LineString":{r=Ie(u);break}case"Polygon":{r=Ue(u);break}case"MultiPoint":{r=Ye(u);break}case"MultiLineString":{r=Ae(u);break}case"MultiPolygon":{r=Je(u);break}case"GeometryCollection":{r=ke(u);break}default:throw new Error("Unsupported GeoJSON type: "+u.type)}return r}function Ne(u,e){const r=Rt(u);return kt(r,e)}function ke(u,e){return u.geometries.map(function(n){return Rt(n)})}function Re(u){const e=u.coordinates;return{type:"Point",flatCoordinates:e,layout:ut(e.length)}}function Ie(u){var n;const e=u.coordinates,r=e.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:ut(((n=e[0])==null?void 0:n.length)||2)}}function Ae(u){var h,y;const e=u.coordinates,r=((y=(h=e[0])==null?void 0:h[0])==null?void 0:y.length)||2,n=[],a=Et(n,0,e,r);return{type:"MultiLineString",flatCoordinates:n,ends:a,layout:ut(r)}}function Ye(u){var r;const e=u.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:ut(((r=e[0])==null?void 0:r.length)||2)}}function Je(u){var h,y;const e=u.coordinates,r=[],n=((y=(h=e[0])==null?void 0:h[0])==null?void 0:y[0].length)||2,a=Xt(r,0,e,n);return{type:"MultiPolygon",flatCoordinates:r,ends:a,layout:ut(n)}}function Ue(u){var h,y;const e=u.coordinates,r=[],n=(y=(h=e[0])==null?void 0:h[0])==null?void 0:y.length,a=Et(r,0,e,n);return{type:"Polygon",flatCoordinates:r,ends:a,layout:ut(n)}}function Lt(u,e){u=Nt(u,!0,e);const r=u.getType();let n;switch(r){case"Point":{n=Ke(u);break}case"LineString":{n=Ze(u);break}case"Polygon":{n=We(u,e);break}case"MultiPoint":{n=De(u);break}case"MultiLineString":{n=je(u);break}case"MultiPolygon":{n=ze(u,e);break}case"GeometryCollection":{n=Xe(u,e);break}case"Circle":{n={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+r)}return n}function Xe(u,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:u.getGeometriesArray().map(function(n){return Lt(n,e)})}}function Ze(u,e){return{type:"LineString",coordinates:u.getCoordinates()}}function je(u,e){return{type:"MultiLineString",coordinates:u.getCoordinates()}}function De(u,e){return{type:"MultiPoint",coordinates:u.getCoordinates()}}function ze(u,e){let r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:u.getCoordinates(r)}}function Ke(u,e){return{type:"Point",coordinates:u.getCoordinates()}}function We(u,e){let r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:u.getCoordinates(r)}}var Kt={exports:{}},vt={exports:{}},It;function Be(){return It||(It=1,function(u,e){(function(r,n){u.exports=n(),typeof window=="object"&&(r.Terraformer=n())})(Dt,function(){var r={},n=6378137,a=57.29577951308232,h=.017453292519943,y={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},M={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}};function C(t){return Object.prototype.toString.call(t)==="[object Array]"}function v(){var t=Array.prototype.slice.apply(arguments);typeof console!==void 0&&console.warn&&console.warn.apply(console,t)}function T(t,s){for(var o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t}function N(t){if(t.type)switch(t.type){case"Point":return[t.coordinates[0],t.coordinates[1],t.coordinates[0],t.coordinates[1]];case"MultiPoint":return it(t.coordinates);case"LineString":return it(t.coordinates);case"MultiLineString":return z(t.coordinates);case"Polygon":return z(t.coordinates);case"MultiPolygon":return ct(t.coordinates);case"Feature":return t.geometry?N(t.geometry):null;case"FeatureCollection":return wt(t);case"GeometryCollection":return xt(t);default:throw new Error("Unknown type: "+t.type)}return null}function z(t){for(var s=null,o=null,c=null,p=null,_=0;_<t.length;_++)for(var G=t[_],b=0;b<G.length;b++){var R=G[b],X=R[0],D=R[1];(s===null||X<s)&&(s=X),(o===null||X>o)&&(o=X),(c===null||D<c)&&(c=D),(p===null||D>p)&&(p=D)}return[s,c,o,p]}function ct(t){for(var s=null,o=null,c=null,p=null,_=0;_<t.length;_++)for(var G=t[_],b=0;b<G.length;b++)for(var R=G[b],X=0;X<R.length;X++){var D=R[X],at=D[0],lt=D[1];(s===null||at<s)&&(s=at),(o===null||at>o)&&(o=at),(c===null||lt<c)&&(c=lt),(p===null||lt>p)&&(p=lt)}return[s,c,o,p]}function it(t){for(var s=null,o=null,c=null,p=null,_=0;_<t.length;_++){var G=t[_],b=G[0],R=G[1];(s===null||b<s)&&(s=b),(o===null||b>o)&&(o=b),(c===null||R<c)&&(c=R),(p===null||R>p)&&(p=R)}return[s,c,o,p]}function wt(t){for(var s=[],o,c=t.features.length-1;c>=0;c--)o=N(t.features[c].geometry),s.push([o[0],o[1]]),s.push([o[2],o[3]]);return it(s)}function xt(t){for(var s=[],o,c=t.geometries.length-1;c>=0;c--)o=N(t.geometries[c]),s.push([o[0],o[1]]),s.push([o[2],o[3]]);return it(s)}function ft(t){var s=N(t);return{x:s[0],y:s[1],w:Math.abs(s[0]-s[2]),h:Math.abs(s[1]-s[3])}}function l(t){return t*a}function f(t){return t*h}function F(t,s){for(var o=0;o<t.length;o++)typeof t[o][0]=="number"&&(t[o]=s(t[o])),typeof t[o]=="object"&&(t[o]=F(t[o],s));return t}function O(t){var s=t[0],o=t[1];return[l(s/n)-Math.floor((l(s/n)+180)/360)*360,l(Math.PI/2-2*Math.atan(Math.exp(-1*o/n)))]}function m(t){var s=t[0],o=Math.max(Math.min(t[1],89.99999),-89.99999);return[f(s)*n,n/2*Math.log((1+Math.sin(f(o)))/(1-Math.sin(f(o))))]}function P(t,s,o){if(t.type==="Point")t.coordinates=s(t.coordinates);else if(t.type==="Feature")t.geometry=P(t.geometry,s,!0);else if(t.type==="FeatureCollection")for(var c=0;c<t.features.length;c++)t.features[c]=P(t.features[c],s,!0);else if(t.type==="GeometryCollection")for(var p=0;p<t.geometries.length;p++)t.geometries[p]=P(t.geometries[p],s,!0);else t.coordinates=F(t.coordinates,s);return o||s===m&&(t.crs=y),s===O&&delete t.crs,t}function w(t){return P(t,m)}function L(t){return P(t,O)}function x(t,s){return t<s?-1:t>s?1:0}function d(t,s){return t[0]>s[0]?-1:t[0]<s[0]?1:t[1]>s[1]?-1:t[1]<s[1]?1:0}function K(t,s,o){return x((s[0]-t[0])*(o[1]-t[1])-(o[0]-t[0])*(s[1]-t[1]),0)}function g(t,s){var o=s[0]-t[0],c=s[1]-t[1];return o*o+c*c}function yt(t,s){var o=s;for(var c in t){var p=K(s,o,t[c]);(p===-1||p===0&&g(s,t[c])>g(s,o))&&(o=t[c])}return o}function ot(t){if(t.length===0)return[];if(t.length===1)return t;for(var s=[t.sort(d)[0]],o=0;o<s.length;o++){var c=yt(t,s[o]);c!==s[0]&&s.push(c)}return s}function St(t){for(var s,o=0;o<t.length-3;o++){var c=t[o],p=t[o+1],_=t[o+2],G=[p[0]-c[0],p[1]-c[1]],b=_[0]*G[1]-_[1]*G[0]+G[0]*c[1]-G[1]*c[0];if(o===0)b<0?s=!0:s=!1;else if(s&&b>0||!s&&b<0)return!1}return!0}function Q(t,s){for(var o=!1,c=-1,p=t.length,_=p-1;++c<p;_=c)(t[c][1]<=s[1]&&s[1]<t[_][1]||t[_][1]<=s[1]&&s[1]<t[c][1])&&s[0]<(t[_][0]-t[c][0])*(s[1]-t[c][1])/(t[_][1]-t[c][1])+t[c][0]&&(o=!o);return o}function E(t,s){if(t&&t.length){if(t.length===1)return Q(t[0],s);if(Q(t[0],s)){for(var o=1;o<t.length;o++)if(Q(t[o],s))return!1;return!0}else return!1}else return!1}function B(t,s,o,c){var p=(c[0]-o[0])*(t[1]-o[1])-(c[1]-o[1])*(t[0]-o[0]),_=(s[0]-t[0])*(t[1]-o[1])-(s[1]-t[1])*(t[0]-o[0]),G=(c[1]-o[1])*(s[0]-t[0])-(c[0]-o[0])*(s[1]-t[1]);if(G!==0){var b=p/G,R=_/G;if(0<=b&&b<=1&&0<=R&&R<=1)return!0}return!1}function I(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Z(t,s){if(I(t[0][0])){if(I(s[0][0])){for(var o=0;o<t.length-1;o++)for(var c=0;c<s.length-1;c++)if(B(t[o],t[o+1],s[c],s[c+1]))return!0}else for(var p=0;p<s.length;p++)if(Z(t,s[p]))return!0}else for(var _=0;_<t.length;_++)if(Z(t[_],s))return!0;return!1}function J(t){for(var s=[],o=0;o<t.length;o++){var c=t[o].slice();V(c[0],c[c.length-1])===!1&&c.push(c[0]),s.push(c)}return s}function V(t,s){for(var o=0;o<t.length;o++)if(t[o]!==s[o])return!1;return!0}function U(t,s){if(t.length!==s.length)return!1;for(var o=t.slice().sort(d),c=s.slice().sort(d),p=0;p<o.length;p++){if(o[p].length!==c[p].length)return!1;for(var _=0;_<o.length;_++)if(o[p][_]!==c[p][_])return!1}return!0}var gt=["length"];function S(t){if(t)switch(t.type){case"Point":return new W(t);case"MultiPoint":return new k(t);case"LineString":return new j(t);case"MultiLineString":return new tt(t);case"Polygon":return new Y(t);case"MultiPolygon":return new $(t);case"Feature":return new et(t);case"FeatureCollection":return new rt(t);case"GeometryCollection":return new nt(t);default:throw new Error("Unknown type: "+t.type)}}S.prototype.toMercator=function(){return w(this)},S.prototype.toGeographic=function(){return L(this)},S.prototype.envelope=function(){return ft(this)},S.prototype.bbox=function(){return N(this)},S.prototype.convexHull=function(){var t=[],s,o;if(this.type==="Point")return null;if(this.type==="LineString"||this.type==="MultiPoint")if(this.coordinates&&this.coordinates.length>=3)t=this.coordinates;else return null;else if(this.type==="Polygon"||this.type==="MultiLineString")if(this.coordinates&&this.coordinates.length>0){for(s=0;s<this.coordinates.length;s++)t=t.concat(this.coordinates[s]);if(t.length<3)return null}else return null;else if(this.type==="MultiPolygon")if(this.coordinates&&this.coordinates.length>0){for(s=0;s<this.coordinates.length;s++)for(o=0;o<this.coordinates[s].length;o++)t=t.concat(this.coordinates[s][o]);if(t.length<3)return null}else return null;else if(this.type==="Feature"){var c=new S(this.geometry);return c.convexHull()}return new Y({type:"Polygon",coordinates:J([ot(t)])})},S.prototype.toJSON=function(){var t={};for(var s in this)this.hasOwnProperty(s)&&gt.indexOf(s)===-1&&(t[s]=this[s]);return t.bbox=N(this),t},S.prototype.contains=function(t){return new S(t).within(this)},S.prototype.within=function(t){var s,o,c,p;if(t.type==="Feature"&&(t=t.geometry),t.type==="Point"&&this.type==="Point")return V(this.coordinates,t.coordinates);if(t.type==="MultiLineString"&&this.type==="Point")for(o=0;o<t.coordinates.length;o++){var _={type:"LineString",coordinates:t.coordinates[o]};if(this.within(_))return!0}if((t.type==="LineString"||t.type==="MultiPoint")&&this.type==="Point")for(o=0;o<t.coordinates.length;o++){if(this.coordinates.length!==t.coordinates[o].length)return!1;if(V(this.coordinates,t.coordinates[o]))return!0}if(t.type==="Polygon")if(this.type==="Polygon"){if(t.coordinates.length===this.coordinates.length){for(o=0;o<this.coordinates.length;o++)if(U(this.coordinates[o],t.coordinates[o]))return!0}return this.coordinates.length&&E(t.coordinates,this.coordinates[0][0])?!Z(J(this.coordinates),J(t.coordinates)):!1}else{if(this.type==="Point")return E(t.coordinates,this.coordinates);if(this.type==="LineString"||this.type==="MultiPoint"){if(!this.coordinates||this.coordinates.length===0)return!1;for(o=0;o<this.coordinates.length;o++)if(E(t.coordinates,this.coordinates[o])===!1)return!1;return!0}else if(this.type==="MultiLineString"){for(o=0;o<this.coordinates.length;o++){var G=new j(this.coordinates[o]);if(G.within(t)===!1)return p++,!1}return!0}else if(this.type==="MultiPolygon"){for(o=0;o<this.coordinates.length;o++){var b=new S({type:"Polygon",coordinates:this.coordinates[o]});if(b.within(t)===!1)return!1}return!0}}if(t.type==="MultiPolygon"){if(this.type==="Point"){if(t.coordinates.length){for(o=0;o<t.coordinates.length;o++)if(s=t.coordinates[o],E(s,this.coordinates)&&Z([this.coordinates],t.coordinates)===!1)return!0}return!1}else if(this.type==="Polygon"){for(o=0;o<this.coordinates.length;o++)if(t.coordinates[o].length===this.coordinates.length){for(c=0;c<this.coordinates.length;c++)if(U(this.coordinates[c],t.coordinates[o][c]))return!0}if(Z(this.coordinates,t.coordinates)===!1&&t.coordinates.length){for(o=0;o<t.coordinates.length;o++)s=t.coordinates[o],E(s,this.coordinates[0][0])===!1?p=!1:p=!0;return p}}else if(this.type==="LineString"||this.type==="MultiPoint")for(o=0;o<t.coordinates.length;o++){var R={type:"Polygon",coordinates:t.coordinates[o]};return!!this.within(R)}else if(this.type==="MultiLineString"){for(o=0;o<this.coordinates.length;o++){var X=new j(this.coordinates[o]);if(X.within(t)===!1)return!1}return!0}else if(this.type==="MultiPolygon"){for(o=0;o<t.coordinates.length;o++){var D={type:"Polygon",coordinates:t.coordinates[o]};if(this.within(D)===!1)return!1}return!0}}return!1},S.prototype.intersects=function(t){t.type==="Feature"&&(t=t.geometry);var s=new S(t);if(this.within(t)||s.within(this))return!0;if(this.type!=="Point"&&this.type!=="MultiPoint"&&t.type!=="Point"&&t.type!=="MultiPoint")return Z(this.coordinates,t.coordinates);if(this.type==="Feature"){var o=new S(this.geometry);return o.intersects(t)}return v("Type "+this.type+" to "+t.type+" intersection is not supported by intersects"),!1};function W(t){var s=Array.prototype.slice.call(arguments);if(t&&t.type==="Point"&&t.coordinates)T(this,t);else if(t&&C(t))this.coordinates=t;else if(s.length>=2)this.coordinates=s;else throw"Terraformer: invalid input for Terraformer.Point";this.type="Point"}W.prototype=new S,W.prototype.constructor=W;function k(t){if(t&&t.type==="MultiPoint"&&t.coordinates)T(this,t);else if(C(t))this.coordinates=t;else throw"Terraformer: invalid input for Terraformer.MultiPoint";this.type="MultiPoint"}k.prototype=new S,k.prototype.constructor=k,k.prototype.forEach=function(t){for(var s=0;s<this.coordinates.length;s++)t.apply(this,[this.coordinates[s],s,this.coordinates]);return this},k.prototype.addPoint=function(t){return this.coordinates.push(t),this},k.prototype.insertPoint=function(t,s){return this.coordinates.splice(s,0,t),this},k.prototype.removePoint=function(t){return typeof t=="number"?this.coordinates.splice(t,1):this.coordinates.splice(this.coordinates.indexOf(t),1),this},k.prototype.get=function(t){return new W(this.coordinates[t])};function j(t){if(t&&t.type==="LineString"&&t.coordinates)T(this,t);else if(C(t))this.coordinates=t;else throw"Terraformer: invalid input for Terraformer.LineString";this.type="LineString"}j.prototype=new S,j.prototype.constructor=j,j.prototype.addVertex=function(t){return this.coordinates.push(t),this},j.prototype.insertVertex=function(t,s){return this.coordinates.splice(s,0,t),this},j.prototype.removeVertex=function(t){return this.coordinates.splice(t,1),this};function tt(t){if(t&&t.type==="MultiLineString"&&t.coordinates)T(this,t);else if(C(t))this.coordinates=t;else throw"Terraformer: invalid input for Terraformer.MultiLineString";this.type="MultiLineString"}tt.prototype=new S,tt.prototype.constructor=tt,tt.prototype.forEach=function(t){for(var s=0;s<this.coordinates.length;s++)t.apply(this,[this.coordinates[s],s,this.coordinates])},tt.prototype.get=function(t){return new j(this.coordinates[t])};function Y(t){if(t&&t.type==="Polygon"&&t.coordinates)T(this,t);else if(C(t))this.coordinates=t;else throw"Terraformer: invalid input for Terraformer.Polygon";this.type="Polygon"}Y.prototype=new S,Y.prototype.constructor=Y,Y.prototype.addVertex=function(t){return this.insertVertex(t,this.coordinates[0].length-1),this},Y.prototype.insertVertex=function(t,s){return this.coordinates[0].splice(s,0,t),this},Y.prototype.removeVertex=function(t){return this.coordinates[0].splice(t,1),this},Y.prototype.close=function(){this.coordinates=J(this.coordinates)},Y.prototype.hasHoles=function(){return this.coordinates.length>1},Y.prototype.holes=function(){var t=[];if(this.hasHoles())for(var s=1;s<this.coordinates.length;s++)t.push(new Y([this.coordinates[s]]));return t};function $(t){if(t&&t.type==="MultiPolygon"&&t.coordinates)T(this,t);else if(C(t))this.coordinates=t;else throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.type="MultiPolygon"}$.prototype=new S,$.prototype.constructor=$,$.prototype.forEach=function(t){for(var s=0;s<this.coordinates.length;s++)t.apply(this,[this.coordinates[s],s,this.coordinates])},$.prototype.get=function(t){return new Y(this.coordinates[t])},$.prototype.close=function(){var t=[];return this.forEach(function(s){t.push(J(s))}),this.coordinates=t,this};function et(t){if(t&&t.type==="Feature")T(this,t);else if(t&&t.type&&t.coordinates)this.geometry=t;else throw"Terraformer: invalid input for Terraformer.Feature";this.type="Feature"}et.prototype=new S,et.prototype.constructor=et;function rt(t){if(t&&t.type==="FeatureCollection"&&t.features)T(this,t);else if(C(t))this.features=t;else throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.type="FeatureCollection"}rt.prototype=new S,rt.prototype.constructor=rt,rt.prototype.forEach=function(t){for(var s=0;s<this.features.length;s++)t.apply(this,[this.features[s],s,this.features])},rt.prototype.get=function(t){var s;return this.forEach(function(o){o.id===t&&(s=o)}),new et(s)};function nt(t){if(t&&t.type==="GeometryCollection"&&t.geometries)T(this,t);else if(C(t))this.geometries=t;else if(t.coordinates&&t.type)this.type="GeometryCollection",this.geometries=[t];else throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection"}nt.prototype=new S,nt.prototype.constructor=nt,nt.prototype.forEach=function(t){for(var s=0;s<this.geometries.length;s++)t.apply(this,[this.geometries[s],s,this.geometries])},nt.prototype.get=function(t){return new S(this.geometries[t])};function Ot(t,s,o){for(var c=m(t),p=o||64,_={type:"Polygon",coordinates:[[]]},G=1;G<=p;G++){var b=G*(360/p)*Math.PI/180;_.coordinates[0].push([c[0]+s*Math.cos(b),c[1]+s*Math.sin(b)])}return _.coordinates=J(_.coordinates),L(_)}function H(t,s,o){var c=o||64,p=s||250;if(!t||t.length<2)throw new Error("Terraformer: missing parameter for Terraformer.Circle");T(this,new et({type:"Feature",geometry:Ot(t,p,c),properties:{radius:p,center:t,steps:c}}))}return H.prototype=new S,H.prototype.constructor=H,H.prototype.recalculate=function(){return this.geometry=Ot(this.properties.center,this.properties.radius,this.properties.steps),this},H.prototype.center=function(t){return t&&(this.properties.center=t,this.recalculate()),this.properties.center},H.prototype.radius=function(t){return t&&(this.properties.radius=t,this.recalculate()),this.properties.radius},H.prototype.steps=function(t){return t&&(this.properties.steps=t,this.recalculate()),this.properties.steps},H.prototype.toJSON=function(){var t=S.prototype.toJSON.call(this);return t},r.Primitive=S,r.Point=W,r.MultiPoint=k,r.LineString=j,r.MultiLineString=tt,r.Polygon=Y,r.MultiPolygon=$,r.Feature=et,r.FeatureCollection=rt,r.GeometryCollection=nt,r.Circle=H,r.toMercator=w,r.toGeographic=L,r.Tools={},r.Tools.positionToMercator=m,r.Tools.positionToGeographic=O,r.Tools.applyConverter=P,r.Tools.toMercator=w,r.Tools.toGeographic=L,r.Tools.createCircle=Ot,r.Tools.calculateBounds=N,r.Tools.calculateEnvelope=ft,r.Tools.coordinatesContainPoint=Q,r.Tools.polygonContainsPoint=E,r.Tools.arraysIntersectArrays=Z,r.Tools.coordinatesContainPoint=Q,r.Tools.coordinatesEqual=U,r.Tools.convexHull=ot,r.Tools.isConvex=St,r.MercatorCRS=y,r.GeographicCRS=M,r})}(vt)),vt.exports}(function(u,e){(function(r,n){u.exports=n(Be())})(Dt,function(r){var n={},a=function(){var l={trace:function(){},yy:{},symbols_:{error:2,expressions:3,point:4,EOF:5,linestring:6,polygon:7,multipoint:8,multilinestring:9,multipolygon:10,coordinate:11,DOUBLE_TOK:12,ptarray:13,COMMA:14,ring_list:15,ring:16,"(":17,")":18,POINT:19,Z:20,ZM:21,M:22,EMPTY:23,point_untagged:24,polygon_list:25,polygon_untagged:26,point_list:27,LINESTRING:28,POLYGON:29,MULTIPOINT:30,MULTILINESTRING:31,MULTIPOLYGON:32,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"DOUBLE_TOK",14:"COMMA",17:"(",18:")",19:"POINT",20:"Z",21:"ZM",22:"M",23:"EMPTY",28:"LINESTRING",29:"POLYGON",30:"MULTIPOINT",31:"MULTILINESTRING",32:"MULTIPOLYGON"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[11,2],[11,3],[11,4],[13,3],[13,1],[15,3],[15,1],[16,3],[4,4],[4,5],[4,5],[4,5],[4,2],[24,1],[24,3],[25,3],[25,1],[26,3],[27,3],[27,1],[6,4],[6,5],[6,5],[6,5],[6,2],[7,4],[7,5],[7,5],[7,5],[7,2],[8,4],[8,5],[8,5],[8,5],[8,2],[9,4],[9,5],[9,5],[9,5],[9,2],[10,4],[10,5],[10,5],[10,5],[10,2]],performAction:function(m,P,w,L,x,d,K){var g=d.length-1;switch(x){case 1:return d[g-1];case 2:return d[g-1];case 3:return d[g-1];case 4:return d[g-1];case 5:return d[g-1];case 6:return d[g-1];case 7:this.$=new h([Number(d[g-1]),Number(d[g])]);break;case 8:this.$=new h([Number(d[g-2]),Number(d[g-1]),Number(d[g])]);break;case 9:this.$=new h([Number(d[g-3]),Number(d[g-2]),Number(d[g-1]),Number(d[g])]);break;case 10:this.$=d[g-2].addPoint(d[g]);break;case 11:this.$=d[g];break;case 12:this.$=d[g-2].addRing(d[g]);break;case 13:this.$=new M(d[g]);break;case 14:this.$=new y(d[g-1]);break;case 15:this.$={type:"Point",coordinates:d[g-1].data[0]};break;case 16:this.$={type:"Point",coordinates:d[g-1].data[0],properties:{z:!0}};break;case 17:this.$={type:"Point",coordinates:d[g-1].data[0],properties:{z:!0,m:!0}};break;case 18:this.$={type:"Point",coordinates:d[g-1].data[0],properties:{m:!0}};break;case 19:this.$={type:"Point",coordinates:[]};break;case 20:this.$=d[g];break;case 21:this.$=d[g-1];break;case 22:this.$=d[g-2].addPolygon(d[g]);break;case 23:this.$=new C(d[g]);break;case 24:this.$=d[g-1];break;case 25:this.$=d[g-2].addPoint(d[g]);break;case 26:this.$=d[g];break;case 27:this.$={type:"LineString",coordinates:d[g-1].data};break;case 28:this.$={type:"LineString",coordinates:d[g-1].data,properties:{z:!0}};break;case 29:this.$={type:"LineString",coordinates:d[g-1].data,properties:{m:!0}};break;case 30:this.$={type:"LineString",coordinates:d[g-1].data,properties:{z:!0,m:!0}};break;case 31:this.$={type:"LineString",coordinates:[]};break;case 32:this.$={type:"Polygon",coordinates:d[g-1].toJSON()};break;case 33:this.$={type:"Polygon",coordinates:d[g-1].toJSON(),properties:{z:!0}};break;case 34:this.$={type:"Polygon",coordinates:d[g-1].toJSON(),properties:{m:!0}};break;case 35:this.$={type:"Polygon",coordinates:d[g-1].toJSON(),properties:{z:!0,m:!0}};break;case 36:this.$={type:"Polygon",coordinates:[]};break;case 37:this.$={type:"MultiPoint",coordinates:d[g-1].data};break;case 38:this.$={type:"MultiPoint",coordinates:d[g-1].data,properties:{z:!0}};break;case 39:this.$={type:"MultiPoint",coordinates:d[g-1].data,properties:{m:!0}};break;case 40:this.$={type:"MultiPoint",coordinates:d[g-1].data,properties:{z:!0,m:!0}};break;case 41:this.$={type:"MultiPoint",coordinates:[]};break;case 42:this.$={type:"MultiLineString",coordinates:d[g-1].toJSON()};break;case 43:this.$={type:"MultiLineString",coordinates:d[g-1].toJSON(),properties:{z:!0}};break;case 44:this.$={type:"MultiLineString",coordinates:d[g-1].toJSON(),properties:{m:!0}};break;case 45:this.$={type:"MultiLineString",coordinates:d[g-1].toJSON(),properties:{z:!0,m:!0}};break;case 46:this.$={type:"MultiLineString",coordinates:[]};break;case 47:this.$={type:"MultiPolygon",coordinates:d[g-1].toJSON()};break;case 48:this.$={type:"MultiPolygon",coordinates:d[g-1].toJSON(),properties:{z:!0}};break;case 49:this.$={type:"MultiPolygon",coordinates:d[g-1].toJSON(),properties:{m:!0}};break;case 50:this.$={type:"MultiPolygon",coordinates:d[g-1].toJSON(),properties:{z:!0,m:!0}};break;case 51:this.$={type:"MultiPolygon",coordinates:[]};break}},table:[{3:1,4:2,6:3,7:4,8:5,9:6,10:7,19:[1,8],28:[1,9],29:[1,10],30:[1,11],31:[1,12],32:[1,13]},{1:[3]},{5:[1,14]},{5:[1,15]},{5:[1,16]},{5:[1,17]},{5:[1,18]},{5:[1,19]},{17:[1,20],20:[1,21],21:[1,22],22:[1,23],23:[1,24]},{17:[1,25],20:[1,26],21:[1,28],22:[1,27],23:[1,29]},{17:[1,30],20:[1,31],21:[1,33],22:[1,32],23:[1,34]},{17:[1,35],20:[1,36],21:[1,38],22:[1,37],23:[1,39]},{17:[1,40],20:[1,41],21:[1,43],22:[1,42],23:[1,44]},{17:[1,45],20:[1,46],21:[1,48],22:[1,47],23:[1,49]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{11:51,12:[1,52],13:50},{17:[1,53]},{17:[1,54]},{17:[1,55]},{5:[2,19]},{11:58,12:[1,52],17:[1,59],24:57,27:56},{17:[1,60]},{17:[1,61]},{17:[1,62]},{5:[2,31]},{15:63,16:64,17:[1,65]},{17:[1,66]},{17:[1,67]},{17:[1,68]},{5:[2,36]},{11:58,12:[1,52],17:[1,59],24:57,27:69},{17:[1,70]},{17:[1,71]},{17:[1,72]},{5:[2,41]},{15:73,16:64,17:[1,65]},{17:[1,74]},{17:[1,75]},{17:[1,76]},{5:[2,46]},{17:[1,79],25:77,26:78},{17:[1,80]},{17:[1,81]},{17:[1,82]},{5:[2,51]},{14:[1,84],18:[1,83]},{14:[2,11],18:[2,11]},{12:[1,85]},{11:51,12:[1,52],13:86},{11:51,12:[1,52],13:87},{11:51,12:[1,52],13:88},{14:[1,90],18:[1,89]},{14:[2,26],18:[2,26]},{14:[2,20],18:[2,20]},{11:91,12:[1,52]},{11:58,12:[1,52],17:[1,59],24:57,27:92},{11:58,12:[1,52],17:[1,59],24:57,27:93},{11:58,12:[1,52],17:[1,59],24:57,27:94},{14:[1,96],18:[1,95]},{14:[2,13],18:[2,13]},{11:51,12:[1,52],13:97},{15:98,16:64,17:[1,65]},{15:99,16:64,17:[1,65]},{15:100,16:64,17:[1,65]},{14:[1,90],18:[1,101]},{11:58,12:[1,52],17:[1,59],24:57,27:102},{11:58,12:[1,52],17:[1,59],24:57,27:103},{11:58,12:[1,52],17:[1,59],24:57,27:104},{14:[1,96],18:[1,105]},{15:106,16:64,17:[1,65]},{15:107,16:64,17:[1,65]},{15:108,16:64,17:[1,65]},{14:[1,110],18:[1,109]},{14:[2,23],18:[2,23]},{15:111,16:64,17:[1,65]},{17:[1,79],25:112,26:78},{17:[1,79],25:113,26:78},{17:[1,79],25:114,26:78},{5:[2,15]},{11:115,12:[1,52]},{12:[1,116],14:[2,7],18:[2,7]},{14:[1,84],18:[1,117]},{14:[1,84],18:[1,118]},{14:[1,84],18:[1,119]},{5:[2,27]},{11:58,12:[1,52],17:[1,59],24:120},{18:[1,121]},{14:[1,90],18:[1,122]},{14:[1,90],18:[1,123]},{14:[1,90],18:[1,124]},{5:[2,32]},{16:125,17:[1,65]},{14:[1,84],18:[1,126]},{14:[1,96],18:[1,127]},{14:[1,96],18:[1,128]},{14:[1,96],18:[1,129]},{5:[2,37]},{14:[1,90],18:[1,130]},{14:[1,90],18:[1,131]},{14:[1,90],18:[1,132]},{5:[2,42]},{14:[1,96],18:[1,133]},{14:[1,96],18:[1,134]},{14:[1,96],18:[1,135]},{5:[2,47]},{17:[1,79],26:136},{14:[1,96],18:[1,137]},{14:[1,110],18:[1,138]},{14:[1,110],18:[1,139]},{14:[1,110],18:[1,140]},{14:[2,10],18:[2,10]},{12:[1,141],14:[2,8],18:[2,8]},{5:[2,16]},{5:[2,17]},{5:[2,18]},{14:[2,25],18:[2,25]},{14:[2,21],18:[2,21]},{5:[2,28]},{5:[2,29]},{5:[2,30]},{14:[2,12],18:[2,12]},{14:[2,14],18:[2,14]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,43]},{5:[2,44]},{5:[2,45]},{14:[2,22],18:[2,22]},{14:[2,24],18:[2,24]},{5:[2,48]},{5:[2,49]},{5:[2,50]},{14:[2,9],18:[2,9]}],defaultActions:{14:[2,1],15:[2,2],16:[2,3],17:[2,4],18:[2,5],19:[2,6],24:[2,19],29:[2,31],34:[2,36],39:[2,41],44:[2,46],49:[2,51],83:[2,15],89:[2,27],95:[2,32],101:[2,37],105:[2,42],109:[2,47],117:[2,16],118:[2,17],119:[2,18],122:[2,28],123:[2,29],124:[2,30],127:[2,33],128:[2,34],129:[2,35],130:[2,38],131:[2,39],132:[2,40],133:[2,43],134:[2,44],135:[2,45],138:[2,48],139:[2,49],140:[2,50]},parseError:function(m,P){throw new Error(m)},parse:function(m){var P=this,w=[0],L=[null],x=[],d=this.table,K="",g=0,yt=0;this.lexer.setInput(m),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var ot=this.lexer.yylloc;x.push(ot);var St=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function Q(){var k;return k=P.lexer.lex()||1,typeof k!="number"&&(k=P.symbols_[k]||k),k}for(var E,B,I,Z,J={},V,U,gt,S;;){if(B=w[w.length-1],this.defaultActions[B]?I=this.defaultActions[B]:((E===null||typeof E>"u")&&(E=Q()),I=d[B]&&d[B][E]),typeof I>"u"||!I.length||!I[0]){var W="";{S=[];for(V in d[B])this.terminals_[V]&&V>2&&S.push("'"+this.terminals_[V]+"'");this.lexer.showPosition?W="Parse error on line "+(g+1)+`:
`+this.lexer.showPosition()+`
Expecting `+S.join(", ")+", got '"+(this.terminals_[E]||E)+"'":W="Parse error on line "+(g+1)+": Unexpected "+(E==1?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(W,{text:this.lexer.match,token:this.terminals_[E]||E,line:this.lexer.yylineno,loc:ot,expected:S})}}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+B+", token: "+E);switch(I[0]){case 1:w.push(E),L.push(this.lexer.yytext),x.push(this.lexer.yylloc),w.push(I[1]),E=null,yt=this.lexer.yyleng,K=this.lexer.yytext,g=this.lexer.yylineno,ot=this.lexer.yylloc;break;case 2:if(U=this.productions_[I[1]][1],J.$=L[L.length-U],J._$={first_line:x[x.length-(U||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(U||1)].first_column,last_column:x[x.length-1].last_column},St&&(J._$.range=[x[x.length-(U||1)].range[0],x[x.length-1].range[1]]),Z=this.performAction.call(J,K,yt,g,this.yy,I[1],L,x),typeof Z<"u")return Z;U&&(w=w.slice(0,-1*U*2),L=L.slice(0,-1*U),x=x.slice(0,-1*U)),w.push(this.productions_[I[1]][0]),L.push(J.$),x.push(J._$),gt=d[w[w.length-2]][w[w.length-1]],w.push(gt);break;case 3:return!0}}return!0}},f=function(){var O={EOF:1,parseError:function(P,w){if(this.yy.parser)this.yy.parser.parseError(P,w);else throw new Error(P)},setInput:function(m){return this._input=m,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var m=this._input[0];this.yytext+=m,this.yyleng++,this.offset++,this.match+=m,this.matched+=m;var P=m.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),m},unput:function(m){var P=m.length,w=m.split(/(?:\r\n?|\n)/g);this._input=m+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P-1),this.offset-=P;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),w.length-1&&(this.yylineno-=w.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:w?(w.length===L.length?this.yylloc.first_column:0)+L[L.length-w.length].length-w[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-P]),this},more:function(){return this._more=!0,this},less:function(m){this.unput(this.match.slice(m))},pastInput:function(){var m=this.matched.substr(0,this.matched.length-this.match.length);return(m.length>20?"...":"")+m.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var m=this.match;return m.length<20&&(m+=this._input.substr(0,20-m.length)),(m.substr(0,20)+(m.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var m=this.pastInput(),P=new Array(m.length+1).join("-");return m+this.upcomingInput()+`
`+P+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var m,P,w,L,x;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),K=0;K<d.length&&(w=this._input.match(this.rules[d[K]]),!(w&&(!P||w[0].length>P[0].length)&&(P=w,L=K,!this.options.flex)));K++);return P?(x=P[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],m=this.performAction.call(this,this.yy,this,d[L],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var P=this.next();return typeof P<"u"?P:this.lex()},begin:function(P){this.conditionStack.push(P)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(P){this.begin(P)}};return O.options={},O.performAction=function(P,w,L,x){switch(L){case 0:break;case 1:return 17;case 2:return 18;case 3:return 12;case 4:return 19;case 5:return 28;case 6:return 29;case 7:return 30;case 8:return 31;case 9:return 32;case 10:return 14;case 11:return 23;case 12:return 22;case 13:return 20;case 14:return 21;case 15:return 5;case 16:return"INVALID"}},O.rules=[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:-?[0-9]+(\.[0-9]+)?([eE][\-\+]?[0-9]+)?)/,/^(?:POINT\b)/,/^(?:LINESTRING\b)/,/^(?:POLYGON\b)/,/^(?:MULTIPOINT\b)/,/^(?:MULTILINESTRING\b)/,/^(?:MULTIPOLYGON\b)/,/^(?:,)/,/^(?:EMPTY\b)/,/^(?:M\b)/,/^(?:Z\b)/,/^(?:ZM\b)/,/^(?:$)/,/^(?:.)/],O.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],inclusive:!0}},O}();l.lexer=f;function F(){this.yy={}}return F.prototype=l,l.Parser=F,new F}();function h(l){this.data=[l],this.type="PointArray"}h.prototype.addPoint=function(l){return l.type==="PointArray"?this.data=this.data.concat(l.data):this.data.push(l),this},h.prototype.toJSON=function(){return this.data};function y(l){this.data=l,this.type="Ring"}y.prototype.toJSON=function(){for(var l=[],f=0;f<this.data.data.length;f++)l.push(this.data.data[f]);return l};function M(l){this.data=[l],this.type="RingList"}M.prototype.addRing=function(l){return this.data.push(l),this},M.prototype.toJSON=function(){for(var l=[],f=0;f<this.data.length;f++)l.push(this.data[f].toJSON());return l.length===1,l};function C(l){this.data=[l],this.type="PolygonList"}C.prototype.addPolygon=function(l){return this.data.push(l),this},C.prototype.toJSON=function(){for(var l=[],f=0;f<this.data.length;f++)l=l.concat([this.data[f].toJSON()]);return l};function v(l){var f;try{f=a.parse(l)}catch(F){throw Error("Unable to parse: "+F)}return r.Primitive(f)}function T(l){for(var f=[],F="",O=0;O<l.length;O++)f.push(l[O].join(" "));return F+="("+f.join(", ")+")",F}function N(l){var f="POINT ";return l.coordinates===void 0||l.coordinates.length===0?(f+="EMPTY",f):(l.coordinates.length===3?l.properties&&l.properties.m===!0?f+="M ":f+="Z ":l.coordinates.length===4&&(f+="ZM "),f+="("+l.coordinates.join(" ")+")",f)}function z(l){var f="LINESTRING ";return l.coordinates===void 0||l.coordinates.length===0||l.coordinates[0].length===0?(f+="EMPTY",f):(l.coordinates[0].length===3?l.properties&&l.properties.m===!0?f+="M ":f+="Z ":l.coordinates[0].length===4&&(f+="ZM "),f+=T(l.coordinates),f)}function ct(l){var f="POLYGON ";if(l.coordinates===void 0||l.coordinates.length===0||l.coordinates[0].length===0)return f+="EMPTY",f;l.coordinates[0][0].length===3?l.properties&&l.properties.m===!0?f+="M ":f+="Z ":l.coordinates[0][0].length===4&&(f+="ZM "),f+="(";for(var F=[],O=0;O<l.coordinates.length;O++)F.push(T(l.coordinates[O]));return f+=F.join(", "),f+=")",f}function it(l){var f="MULTIPOINT ";return l.coordinates===void 0||l.coordinates.length===0||l.coordinates[0].length===0?(f+="EMPTY",f):(l.coordinates[0].length===3?l.properties&&l.properties.m===!0?f+="M ":f+="Z ":l.coordinates[0].length===4&&(f+="ZM "),f+=T(l.coordinates),f)}function wt(l){var f="MULTILINESTRING ";if(l.coordinates===void 0||l.coordinates.length===0||l.coordinates[0].length===0)return f+="EMPTY",f;l.coordinates[0][0].length===3?l.properties&&l.properties.m===!0?f+="M ":f+="Z ":l.coordinates[0][0].length===4&&(f+="ZM "),f+="(";for(var F=[],O=0;O<l.coordinates.length;O++)F.push(T(l.coordinates[O]));return f+=F.join(", "),f+=")",f}function xt(l){var f="MULTIPOLYGON ";if(l.coordinates===void 0||l.coordinates.length===0||l.coordinates[0].length===0||l.coordinates[0][0].length===0)return f+="EMPTY",f;l.coordinates[0][0][0].length===3?l.properties&&l.properties.m===!0?f+="M ":f+="Z ":l.coordinates[0][0][0].length===4&&(f+="ZM "),f+="(";for(var F=[],O=0;O<l.coordinates.length;O++){for(var m="(",P=[],w=0;w<l.coordinates[O].length;w++)P.push(T(l.coordinates[O][w]));m+=P.join(", "),m+=")",F.push(m)}return f+=F.join(", "),f+=")",f}function ft(l){switch(l.type){case"Point":return N(l);case"LineString":return z(l);case"Polygon":return ct(l);case"MultiPoint":return it(l);case"MultiLineString":return wt(l);case"MultiPolygon":return xt(l);case"GeometryCollection":var f="GEOMETRYCOLLECTION",F=[];for(i=0;i<l.geometries.length;i++)F.push(ft(l.geometries[i]));return f+"("+F.join(", ")+")";default:throw Error("Unknown Type: "+l.type)}}return n.parser=a,n.Parser=a.Parser,n.parse=v,n.convert=ft,n})})(Kt);var qe=Kt.exports;export{$e as G,qe as t};
